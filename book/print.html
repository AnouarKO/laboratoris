<!DOCTYPE HTML>
<html lang="ca" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Laboratoris de Sistemes Operatius per a estudiants del Grau en Enginyeria Informàtica</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Laboratoris generals</li><li class="chapter-item expanded "><a href="lab0/main.html"><strong aria-hidden="true">1.</strong> Laboratori 0</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lab0/vm-install.html"><strong aria-hidden="true">1.1.</strong> Instal·lació de la màquina virtual</a></li><li class="chapter-item expanded "><a href="lab0/ssh.html"><strong aria-hidden="true">1.2.</strong> Conexió remota a la màquina virtual</a></li><li class="chapter-item expanded "><a href="lab0/vscode.html"><strong aria-hidden="true">1.3.</strong> Configuració VS Code</a></li><li class="chapter-item expanded "><a href="lab0/git.html"><strong aria-hidden="true">1.4.</strong> Configuració Git/Github</a></li><li class="chapter-item expanded "><a href="lab0/dev.html"><strong aria-hidden="true">1.5.</strong> Configurant entorn de treball</a></li><li class="chapter-item expanded "><a href="lab0/project0.html"><strong aria-hidden="true">1.6.</strong> Projecte Col·laboratiu: Calculadora</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Laboratoris de Sistemes Operatius per a estudiants del Grau en Enginyeria Informàtica</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="laboratori-0"><a class="header" href="#laboratori-0">Laboratori 0</a></h1>
<p>Aquest laboratori és una introducció a la màquina virtual DebianLab i a les eines de desenvolupament que farem servir durant el curs.</p>
<h2 id="continguts"><a class="header" href="#continguts">Continguts</a></h2>
<ol>
<li><a href="lab0/./vm-install.html">Instal·lació de la màquina virtual</a></li>
<li><a href="lab0/./ssh.html">Conexió remota a la màquina virtual</a></li>
<li><a href="lab0/./vscode.html">Configuració VS Code</a></li>
<li><a href="lab0/./git.html">Configuració Git/Github</a></li>
<li><a href="lab0/./dev.html">Configurant entorn de treball</a></li>
<li><a href="lab0/./project0.html">Projecte Col·laboratiu: Calculadora</a></li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installació-de-la-màquina-virtual"><a class="header" href="#installació-de-la-màquina-virtual">Instal·lació de la màquina virtual</a></h1>
<h2 id="installació-del-hypervisor-vmware-workstation-player-o-vmware-fusion"><a class="header" href="#installació-del-hypervisor-vmware-workstation-player-o-vmware-fusion">Instal·lació del Hypervisor (VMWare Workstation Player o VMWare Fusion)</a></h2>
<ol>
<li>Fes clic al botó de registre a la pàgina de Broadcom.</li>
<li>Introdueix el teu correu electrònic.</li>
<li>Verifica el teu correu electrònic.</li>
<li>Completa el formulari de registre amb les teves dades personals.</li>
<li>No cal que completis el perfil. Pots cancel·lar.</li>
<li>Fes clic al botó de login.</li>
<li>Un cop al dashboard, ves a VMWare Cloud Foundation.</li>
<li>Busca VMWare Workstation (Windows) o VMWare Fusion (Mac).</li>
<li>Descarrega la versió Pro per a ús personal.</li>
</ol>
<h2 id="descarrega-de-la-imatge-iso-de-debian-1250"><a class="header" href="#descarrega-de-la-imatge-iso-de-debian-1250">Descarrega de la imatge ISO de Debian 12.5.0</a></h2>
<ol>
<li>
<p>Ves a la pàgina de descàrrega de Debian 12.5.0</p>
</li>
<li>
<p>Selecciona la imatge ISO per a la teva arquitectura (amd64 o arm64).</p>
</li>
<li>
<p>Seleccioneu la carpeta <em>iso-cd</em>.</p>
</li>
<li>
<p>Seleccioneu el fitxer <em>debian-12.5.0-x-netinst.iso</em>. On <em>x</em> és l'arquitectura del vostre sistema (amd64 o arm64).</p>
<blockquote>
<p>💡 <strong>Nota</strong>:</p>
<p>La imatge <em>netinst</em> és una imatge d'instal·lació mínima que descarrega els paquets necessaris durant la instal·lació. Això permet personalitzar la instal·lació i seleccionar els paquets que voleu instal·lar.</p>
</blockquote>
</li>
</ol>
<h2 id="configuració-de-la-màquina-virtual-amb-vmware"><a class="header" href="#configuració-de-la-màquina-virtual-amb-vmware">Configuració de la màquina virtual amb VMWare</a></h2>
<ol>
<li>Selecciona l’opció <code>Create a New Virtual Machine</code> a VMWare Workstation Player o VMWare Fusion.</li>
<li>Selecciona <em>Install from disc or image</em>.
<img src="lab0/./figures/debian12/install-01.png" alt="Install from disc or image" /></li>
<li>Selecciona la imatge ISO de Debian 12.
<img src="lab0/./figures/debian12/install-02.png" alt="Select ISO" /></li>
<li>Configura els recursos de la màquina virtual.
<img src="lab0/./figures/debian12/install-03.png" alt="Configuració" /></li>
</ol>
<h2 id="installació-del-sistema-operatiu"><a class="header" href="#installació-del-sistema-operatiu">Instal·lació del sistema operatiu</a></h2>
<ol>
<li>
<p>Un cop iniciada la màquina virtual, podeu seleccionar la opció <strong>Install</strong> o bé <strong>Graphical install</strong>.
<img src="lab0/./figures/debian12/install-04.png" alt="Install Debian" /></p>
<p>En aquest tutoriral, seleccionarem la opció <strong>Graphical install</strong> per a una instal·lació més amigable. La principal diferència entre les dues opcions és l'entorn gràfic.</p>
</li>
<li>
<p>Selecciona l'idioma d'instal·lació.
<img src="lab0/./figures/debian12/install-05.png" alt="Select Language" /></p>
<p>Podeu seleccionar l'idioma que vulgueu per a la instal·lació. En aquest cas, seleccionarem l'idioma <strong>Català</strong>.</p>
</li>
<li>
<p>Selecciona la ubicació geogràfica.
<img src="lab0/./figures/debian12/install-06.png" alt="Select Location" /></p>
<p>En aquest cas, seleccionarem la ubicació <strong>Espanya</strong>.</p>
</li>
<li>
<p>Selecciona la disposició del teclat.
<img src="lab0/./figures/debian12/install-07.png" alt="Select Keyboard Layout" /></p>
<p>En aquest cas, seleccionarem la disposició de teclat <strong>Català</strong>. Això ens asegurarà un mapeig correcte del teclat.</p>
</li>
<li>
<p>Espereu que el sistema carregui els components necessaris.
<img src="lab0/./figures/debian12/install-08.png" alt="Loading Components" /></p>
</li>
<li>
<p>Configura la xarxa.</p>
<ul>
<li>El primer pas és configurar el nom d'amfitrió o hostname. Aquest nom permet identificar de forma única el vostre sistema. Podeu deixar el nom per defecte o canviar-lo al vostre gust.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-09.png" alt="Hostname" /></p>
<p>En aquest cas, hem canviat el nom d'amfitrió a <code>lab00-debian</code>, però podeu posar el nom que vulgeu com <code>debianlab</code>, etc.</p>
<ul>
<li>El segon pas és configurar el domini de la xarxa. Aquest pas el podeu deixar en blanc si no teniu un domini específic. O bé, podem utilitzar <code>.local</code> com a domini local per identicar que el servidor pertany a la xarxa local.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-10.png" alt="Domain" /></p>
</li>
<li>
<p>Configura l'usuari administrador.</p>
<p><img src="lab0/./figures/debian12/install-11.png" alt="User" /></p>
<p>En aquest punt, heu de tenir en compte que si no poseu cap contrasenya, es crearà l'usuari normal amb permisos de <code>sudo</code> i això us permetra executar comandes amb privilegis d'administrador.</p>
<p>Si poseu una contrasenya, aquesta serà la contrasenya de l'usuari <code>root</code> i no es crearà un usuari normal amb permisos de <code>sudo</code>. I tampoc s'instal·larà el paquet <code>sudo</code>.</p>
<blockquote>
<p>⚠️ <strong>Compte</strong></p>
<p>Com utilitzarem les màquines virtuals com a laboratoris de pràctiques, no cal que poseu una contrasenya molt segura. Podeu utilitzar una com a <code>1234</code>. Però, recordeu que en un entorn real, la seguretat és molt important i cal utilitzar contrasenyes segures.</p>
</blockquote>
</li>
<li>
<p>Configura un usuari normal.</p>
<ul>
<li>Nom complet: Podeu posar el vostre nom complet o el que vulgueu.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-12.png" alt="Normal User" /></p>
<ul>
<li>Nom d'usuari: Podeu posar el vostre nom d'usuari o el que vulgueu.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-13.png" alt="Normal User" /></p>
<ul>
<li>Contrasenya: El mateix que per l'usuari <code>root</code>.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-14.png" alt="Normal User" /></p>
</li>
<li>
<p>Configura la zona horària.</p>
<p><img src="lab0/./figures/debian12/install-15.png" alt="Timezone" /></p>
<p>En aquest cas, seleccionarem la zona horària de <strong>Madrid</strong>.</p>
</li>
<li>
<p>Configura el disc dur.</p>
<ul>
<li>Particionament: En aquest curs, el tema del particionament no és molt important. Per tant, podeu fer servir la configuració per defecte més senzilla (<strong>Guiat - utilitzar el disc sencer</strong>). Aquesta configuració crearà les particions necessàries per a l'instal·lació del sistema.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-16.png" alt="Partitioning" /></p>
<ul>
<li>Selecciona el disc on instal·lar el sistema. En el meu cas, només tinc un disc virtual amb l'etiqueta <code>/dev/nvme0n1</code>. L'etiqueta indica el tipus de disc (NVMe) i el número de disc (1). Es possible tenir altres etiquetes com <code>/dev/sda</code> per discos SATA o <code>/dev/vda</code> per discos virtuals.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-17.png" alt="Partitioning" /></p>
<ul>
<li>Particions: Podeu seleccionar (<strong>Tots els fitxers en una partició</strong>) per simplificar la gestió i evitar problemes podeu seleccionar aquesta opció. Aquesta opció crearà una sola partició per a tot el sistema.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-18.png" alt="Partitioning" /></p>
<ul>
<li>Confirmeu els canvis. En aquest punt, el sistema crearà les particions necessàries:
<ul>
<li>La primera partició serà la partició <code>/boot</code> on es guardaran els fitxers per arrancar el sistema.</li>
<li>La segona partició serà la partició <code>/</code> on es guardaran els fitxers del sistema.</li>
<li>La tercera partició serà la partició de swap on es guardaran les dades de la memòria virtual.</li>
</ul>
</li>
</ul>
<blockquote>
<p>ℹ️ <strong>Què és la partició swap?</strong></p>
<p>La <code>swap</code> és una partició especial que s'utilitza com a memòria virtual quan la memòria RAM s'omple. Aquesta partició permet alliberar memòria RAM i evitar que el sistema es bloquegi.</p>
</blockquote>
<p><img src="lab0/./figures/debian12/install-19.png" alt="Partitioning" /></p>
<ul>
<li>Escriu els canvis al disc.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-20.png" alt="Write Changes" /></p>
</li>
<li>
<p>Espera que s'instal·li el sistema.</p>
<p><img src="lab0/./figures/debian12/install-21.png" alt="Install" /></p>
</li>
<li>
<p>Configura el gestor de paquets.</p>
<ul>
<li>Analitzar els discos de la instal·lació. Aquest pas permet seleccionar els discos on es troben els paquets d'instal·lació. Normalment, aquest pas no cal modificar-lo.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-22.png" alt="Package Manager" /></p>
<ul>
<li>
<p>Configura el gestor de paquets. En aquest cas, seleccionarem el servidor de paquets més proper a la nostra ubicació.</p>
<ul>
<li>
<p>Filtrar els servidors de paquets per ubicació.
<img src="lab0/./figures/debian12/install-23.png" alt="Package Manager" /></p>
</li>
<li>
<p>Seleccionar el servidor de paquets.
<img src="lab0/./figures/debian12/install-24.png" alt="Package Manager" /></p>
</li>
</ul>
<blockquote>
<p>👀 <strong>Nota</strong>:</p>
<p>A vegades, els servidors de paquets poden estar saturats o no funcionar correctament. En aquest cas, podeu seleccionar un servidor alternatiu o provar més tard.</p>
</blockquote>
</li>
<li>
<p>Configura el proxy. Si esteu darrere d'un proxy, podeu configurar-lo en aquest pas.</p>
<p><img src="lab0/./figures/debian12/install-25.png" alt="Package Manager" /></p>
<blockquote>
<p>ℹ️ <strong>Què és un proxy?</strong></p>
<p>Un proxy és un servidor intermediari entre el vostre sistema i Internet. Aquest servidor pot ser utilitzat per controlar l'accés a Internet, per protegir la vostra privacitat o per accelerar la connexió a Internet. Les peticions de connexió a Internet es fan a través del servidor proxy, que actua com a intermediari i reenvia les peticions al servidor de destinació. Per exemple, en una empresa, el proxy pot ser utilitzat per controlar l'accés a Internet dels empleats i protegir la xarxa interna de possibles amenaces.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>Espera que s'instal·lin els paquets.</p>
<p><img src="lab0/./figures/debian12/install-26.png" alt="Install" /></p>
</li>
<li>
<p>Configura el paquet <code>popularity-contest</code>.</p>
<ul>
<li>Aquest paquet permet enviar informació anònima sobre els paquets instal·lats al servidor de Debian per millorar la selecció de paquets i la qualitat dels paquets. Podeu seleccionar si voleu participar en aquest programa o no.</li>
</ul>
<p><img src="lab0/./figures/debian12/install-27.png" alt="Popularity Contest" /></p>
</li>
<li>
<p>Selecció de programari. En aquest punt podeu seleccionar si voleu un servidor en mode text o amb interfície gràfica. També us permet seleccionar si voleu instal·lar els serveis web i ssh al servidor i finalment si voleu les utilitats estàndard del sistema. Seleccionarem el servidor en mode text, el servei SSH activat i les utilitats estàndard del sistema.</p>
<p><img src="lab0/./figures/debian12/install-28.png" alt="Software Selection" /></p>
<blockquote>
<p>ℹ️ <strong>Què és un servidor en mode text?</strong></p>
<p>Un servidor en mode text és un servidor que no té una interfície gràfica. Això significa que tota la interacció amb el servidor es fa a través de la línia de comandes. Aquest tipus de servidor és molt comú en entorns de producció, ja que consumeix menys recursos i és més segur que un servidor amb interfície gràfica.</p>
</blockquote>
<hr />
<blockquote>
<p>ℹ️ <strong>Què és el servei SSH?</strong></p>
<p>El servei SSH (Secure Shell) és un protocol de xifratament que permet connectar-se de forma segura a un servidor remot. Aquest servei és molt utilitzat per administrar servidors a distància, ja que permet accedir al servidor de forma segura i xifratada.</p>
</blockquote>
</li>
<li>
<p>Espera que s'instal·li el programari.</p>
<p><img src="lab0/./figures/debian12/install-29.png" alt="Install" /></p>
</li>
<li>
<p>Instal·lació acabada. Un cop finalitzada la instal·lació, el sistema es reiniciarà i podreu accedir al GRUB per seleccionar el sistema operatiu.
<img src="lab0/./figures/debian12/install-30.png" alt="Finish" /></p>
</li>
<li>
<p>El GRUB us permet accedir al sistema operatiu. En aquest cas, seleccionarem Debian GNU/Linux. La resta d'opcions les veurem més endavant en el curs.</p>
<p><img src="lab0/./figures/debian12/install-31.png" alt="GRUB" /></p>
<blockquote>
<p>ℹ️ Què és el GRUB?</p>
<p>Com veurem l'any vinent a Administració de Sistemes, el GRUB és un gestor d'arrencada que permet seleccionar el sistema operatiu que volem iniciar. Aquest gestor és molt útil en sistemes amb múltiples sistemes operatius o múltiples versions del mateix sistema operatiu.</p>
</blockquote>
</li>
<li>
<p>Inicieu sessió amb l'usuari i la contrasenya que heu configurat durant la instal·lació.</p>
<p><img src="lab0/./figures/debian12/install-32.png" alt="Login" /></p>
</li>
<li>
<p>Tanqueu la sessió amb la comanda <code>exit</code>.</p>
</li>
<li>
<p>Inicieu sessió amb l'usuari <code>root</code> i la contrasenya que heu configurat durant la instal·lació.</p>
<p><img src="lab0/./figures/debian12/install-33.png" alt="Login" /></p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conexió-remota-a-la-màquina-virtual"><a class="header" href="#conexió-remota-a-la-màquina-virtual">Conexió remota a la màquina virtual</a></h1>
<p>En els nostres laboratoris, utilitzarem la màquina virtual per realitzar tots els experiments i com a entorn de desenvolupament. Per facilitar la gestió s'acosutma a utilitzar els protocols SSH, SFTP i SCP per connectar-se a la màquina virtual i transferir fitxers entre la vostra màquina local i la màquina virtual.</p>
<blockquote>
<p>ℹ️ Què és SSH?</p>
<p>SSH (Secure Shell) és un protocol de xarxa que permet als usuaris connectar-se a un dispositiu remot de forma segura. SSH utilitza una connexió xifrada per autenticar els usuaris i protegir les dades que es transmeten entre els dispositius. Això fa que SSH sigui una eina molt útil per connectar-se a servidors remots de forma segura.</p>
</blockquote>
<hr />
<blockquote>
<p>ℹ️ Què és SFTP?</p>
<p>SFTP (SSH File Transfer Protocol) és un protocol de transferència de fitxers que permet als usuaris transferir fitxers de forma segura entre dos dispositius. SFTP utilitza SSH per autenticar els usuaris i xifrar les dades que es transmeten entre els dispositius. Això fa que SFTP sigui una eina molt útil per transferir fitxers de forma segura entre servidors remots.</p>
</blockquote>
<hr />
<blockquote>
<p>ℹ️ Què és secure copy (SCP)?</p>
<p>SCP (Secure Copy) és una eina que permet als usuaris copiar fitxers de forma segura entre dos dispositius utilitzant SSH. SCP utilitza SSH per autenticar els usuaris i xifrar les dades que es transmeten entre els dispositius.</p>
</blockquote>
<h2 id="connexió-ssh-entre-la-vostra-màquina-i-la-màquina-virtual"><a class="header" href="#connexió-ssh-entre-la-vostra-màquina-i-la-màquina-virtual">Connexió SSH entre la vostra màquina i la màquina virtual</a></h2>
<p>Per connectar-vos a una màquina virtual utilitzant SSH, necessitareu l'adreça IP de la màquina virtual o bé el <code>hostname</code> de la màquina virtual. A més, necessitareu un client SSH instal·lat al vostre sistema local.</p>
<p>Per obtenir l'adreça IP de la màquina virtual, podeu utilitzar la interfície gràfica de <em>VMWare</em> o bé executar la comanda <code>ip a</code> a la màquina virtual per obtenir la informació de la xarxa.</p>
<ul>
<li>
<p>Interfície gràfica de <em>VMWare</em>:</p>
<p><img src="lab0/./figures/ssh-sftp/ip-vmware.png" alt="Adreça IP de la màquina virtual" /></p>
</li>
<li>
<p>Executar la comanda <code>ip a</code> a la màquina virtual:</p>
<pre><code class="language-bash">ip a
</code></pre>
<p><img src="lab0/./figures/ssh-sftp/ip-a.png" alt="Adreça IP de la màquina virtual" /></p>
<p>En el meu cas, l'adreça IP de la màquina virtual és <code>172.16.10.202</code>.</p>
</li>
</ul>
<blockquote>
<p>💡 Info :</p>
<p>Per defecte, VMWare utilitza una xarxa NAT per connectar les màquines virtuals. Per fer-ho, VMWare crea una xarxa privada a la qual es connecten les màquines virtuals i utilitza la xarxa de l'amfitrió per connectar-se a Internet. Això permet a les màquines virtuals connectar-se a Internet a través de l'amfitrió sense necessitat de configurar una xarxa addicional. Ara bé, això també significa que les màquines virtuals utilitzen una adreça IP privada que no és accessible des de l'exterior. Tot i això, aquesta configuració la podeu canviar si cal. Però, pels nostres laboratoris, aquesta configuració és suficient.</p>
</blockquote>
<p>A continuació, us mostrem com connectar-vos a una màquina virtual utilitzant SSH:</p>
<ul>
<li>
<p>Mac/Linux:</p>
<pre><code class="language-bash">ssh &lt;usuari&gt;@&lt;adreça IP o hostname&gt;
</code></pre>
</li>
</ul>
<p><img src="lab0/./figures/ssh-sftp/ssh.png" alt="Exemple de connexió SSH" /></p>
<p><strong>On</strong>: <code>&lt;usuari&gt;</code> és el nom d'usuari amb el qual voleu connectar-vos a la màquina virtual i  <code>&lt;adreça IP o hostname&gt;</code> és l'adreça IP o el <code>hostname</code> de la màquina virtual a la qual voleu connectar-vos.</p>
<blockquote>
<p><strong>⚠️ Compte!</strong></p>
<p>Per defecte, Debian no permet l'accés remot amb l'usuari <code>root</code>. Per tant, si voleu connectar-vos a la màquina virtual com a <code>root</code>, primer heu de connectar-vos com a usuari normal i després canviar a l'usuari <code>root</code> amb la comanda <code>su</code>.</p>
<p><img src="lab0/./figures/ssh-sftp/ssh-root.png" alt="Exemple de connexió SSH com a root" /></p>
</blockquote>
<p>Un cop connectats, podreu interactuar amb la màquina virtual com si estiguéssiu connectats físicament a la màquina. Per sortir de la sessió SSH, executeu la comanda <code>exit</code>.</p>
<ul>
<li>Windows: Obrir una sessió de PowerShell i executar la comanda anterior. També podeu utilitzar un client SSH com <a href="https://www.putty.org/">PuTTY</a>.</li>
</ul>
<blockquote>
<p>ℹ️ Què és el fingerprint que es mostra quan connecteu per primera vegada a un servidor SSH?</p>
<p>El fingerprint és una empremta digital única que identifica un servidor SSH. Quan connecteu per primera vegada a un servidor SSH, el vostre client SSH us mostrarà el fingerprint del servidor perquè pugueu verificar que esteu connectant-vos al servidor correcte. Això us protegeix contra atacs de suplantació de servidor.</p>
</blockquote>
<hr />
<blockquote>
<p>😵‍💫 Troubleshooting:</p>
<p>Si una IP d'una màquina virtual a la qual havíeu accedit prèviament es reassigna a una altra màquina virtual i intenteu accedir a la màquina virtual original, el client SSH mostrarà un missatge d'advertència. Això succeeix perquè el fingerprint del servidor ha canviat. Quan connecteu per primera vegada a un servidor SSH, el vostre client SSH emmagatzema aquest fingerprint en el fitxer <code>~/.ssh/known_hosts</code> per a futures referències.</p>
<p>Si el fingerprint del servidor canvia (per exemple, perquè l'adreça IP s'ha reassignat a una altra màquina virtual), el client SSH detectarà aquesta discrepància i mostrarà un missatge d'advertència per protegir-vos contra possibles atacs de suplantació de servidor. Aquest missatge us informa que el servidor al qual esteu intentant connectar-vos no coincideix amb el fingerprint emmagatzemat.</p>
<p>Per resoldre aquest problema i poder connectar-vos al servidor, podeu eliminar l'entrada del servidor del fitxer <code>~/.ssh/known_hosts</code>. Això permetrà al client SSH acceptar el nou fingerprint i establir la connexió sense mostrar l'advertència.</p>
<p>Per resoldre aquest problema, simplement elimineu l'entrada del servidor del fitxer <code>~/.ssh/known_hosts</code> i torneu a intentar connectar-vos al servidor. En el sistema operatiu Windows, el fitxer <code>known_hosts</code> es troba a la carpeta <code>C:\Users\&lt;usuari&gt;\.ssh\known_hosts</code>.</p>
</blockquote>
<h2 id="transferència-de-fitxers-amb-sftp"><a class="header" href="#transferència-de-fitxers-amb-sftp">Transferència de fitxers amb SFTP</a></h2>
<p>Per transferir fitxers entre la vostra màquina local i la màquina virtual utilitzant SFTP, necessitareu l'adreça IP de la màquina virtual o bé el <code>hostname</code> de la màquina virtual. A més, necessitareu un client SFTP instal·lat al vostre sistema local. A continuació, us mostrem com transferir fitxers entre la vostra màquina local i la màquina virtual utilitzant SFTP:</p>
<ul>
<li>
<p>Mac/Linux:</p>
<pre><code class="language-bash">sftp &lt;usuari&gt;@&lt;adreça IP o hostname&gt;:&lt;ruta&gt;
</code></pre>
<p>On:</p>
<ul>
<li><code>&lt;ruta&gt;</code> és la ruta al directori de la màquina virtual on voleu transferir els fitxers.</li>
<li>Els fitxers es transferiran al directori actual de la vostra màquina local.</li>
</ul>
<p>Un cop connectats, podeu utilitzar les comandes <code>put</code> i <code>get</code> per transferir fitxers entre la vostra màquina local i la màquina virtual. Si voleu transferir un directori sencer, podeu utilitzar la comanda <code>put -r</code> o <code>get -r</code>. Per acabar la sessió SFTP, executeu la comanda <code>exit</code>.</p>
</li>
<li>
<p>Windows: Obrir una sessió de PowerShell i executar la comanda anterior. També podeu utilitzar un client SFTP com <a href="https://winscp.net/eng/index.php">WinSCP</a>.</p>
</li>
</ul>
<p>Si voleu fer servir SCP en lloc de SFTP, podeu utilitzar la comanda <code>scp</code> en lloc de <code>sftp</code>. La sintaxi de la comanda <code>scp</code> és similar a la de la comanda <code>cp</code> de Linux. Per exemple, per copiar un fitxer de la vostra màquina local a la màquina virtual, executeu la següent comanda:</p>
<pre><code class="language-bash">scp &lt;fitxer&gt; &lt;usuari&gt;@&lt;adreça IP o hostname&gt;:&lt;ruta&gt;
</code></pre>
<p>on:</p>
<ul>
<li><code>&lt;fitxer&gt;</code> és el fitxer que voleu copiar.</li>
<li><code>&lt;ruta&gt;</code> és la ruta al directori de la màquina virtual on voleu copiar el fitxer.</li>
<li>El fitxer es copiarà al directori especificat de la màquina virtual.</li>
<li>Si voleu copiar un directori sencer, podeu utilitzar l'opció <code>-r</code>.</li>
</ul>
<h3 id="exemple-pràctic-de-transferència-de-fitxers"><a class="header" href="#exemple-pràctic-de-transferència-de-fitxers">Exemple pràctic de transferència de fitxers</a></h3>
<ol>
<li>
<p>Crear un fitxer <code>fitxer.txt</code> a la vostra màquina local.</p>
<pre><code class="language-bash">echo "Aquest és un fitxer de prova" &gt; fitxer.txt
</code></pre>
</li>
<li>
<p>Copia el fitxer <code>fitxer.txt</code> a la màquina virtual a la ruta <code>/home/usuari</code>.</p>
<ul>
<li>Amb scp:</li>
</ul>
<pre><code class="language-bash">scp fitxer.txt jordi@172.16.10.202:/home/jordi
</code></pre>
<ul>
<li>Amb sftp:</li>
</ul>
<pre><code class="language-bash">sftp jordi@172.16.10.199:/home/jordi
put fitxer.txt
</code></pre>
</li>
<li>
<p>Edita el fitxer <code>fitxer.txt</code> a la màquina virtual.</p>
<pre><code class="language-bash">echo "Aquest és un fitxer de prova editat" &gt; fitxer.txt
</code></pre>
</li>
<li>
<p>Copia el fitxer <code>fitxer.txt</code> de la màquina virtual a la vostra màquina local.</p>
<pre><code class="language-bash">sftp jordi@172.16.10.202:/home/jordi
get fitxer.txt
</code></pre>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configurant-el-meu-entorn-de-desenvolupament-amb-vscode"><a class="header" href="#configurant-el-meu-entorn-de-desenvolupament-amb-vscode">Configurant el meu entorn de desenvolupament amb VSCode</a></h1>
<p>En aquesta secció, instal·larem i configurarem el Visual Studio Code (VSCode) perquè ens ajudi en el desenvolupament del curs connectant-lo a la màquina virtual <strong>debianlab</strong>.</p>
<p>Per instal·lar el Visual Studio podeu descarregar el programari de <a href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a> i seguir els passos d'instal·lació.</p>
<p>Un cop hagueu instal·lat el vostre entorn de desenvolupament (IDE), podeu afegir les següents extensions utilitzant el marketplace de VSCode: <strong>remote-ssh</strong>. Primer, feu clic a <strong>Marketplace (1)</strong>, després cerqueu <em>remote-ssh</em> i, finalment, feu clic a <strong>(3)</strong> per instal·lar la extensió. Consulteu la imatge:</p>
<p><img src="lab0/./figures/vscode/remote-ssh.png" alt="Instal·lant la extensió remote-ssh" /></p>
<p>Un cop hagueu instal·lat la extensió, ja podeu connectar-vos a la màquina virtual <strong>debianlab</strong>. Per fer-ho, feu clic a la icona de la part inferior esquerra <strong>(1)</strong> i seleccioneu l'opció <strong>Remote-SSH: Connect to Host... (2)</strong>. Consulteu la imatge:</p>
<p><img src="lab0/./figures/vscode/remote-ssh2.png" alt="Configurant la conexió" /></p>
<p>Ara apareixerà una finestra on podreu escriure la connexió SSH. També veureu l'opció <strong>Add a New SSH Host</strong>. Feu clic en aquesta opció i introduïu la comanda SSH per connectar-vos a la màquina virtual <strong>debianlab</strong>. Consulteu la imatge:</p>
<p><img src="lab0/./figures/vscode/add_new_host.png" alt="Afegint un nou host" /></p>
<p>Seleccioneu la primera opció del menú desplegable amb la ruta del vostre usuari i feu clic a <strong>Add</strong>. Consulteu la imatge:</p>
<p><img src="lab0/./figures/vscode/select_config.png" alt="Seleccionant el fitxer de configuració" /></p>
<p>i comproveu que l'amfitrió s'ha afegit correctament.</p>
<p><img src="lab0/./figures/vscode/host_added.png" alt="Host afegit" /></p>
<p>Ara feu clic a <strong>Open Config</strong> i observeu que s'ha creat una nova entrada amb el vostre usuari i la IP de la màquina virtual:</p>
<pre><code class="language-sh">Host 172.16.10.202
  HostName 172.16.10.202
  User jordi
</code></pre>
<p><img src="lab0/./figures/vscode/config_file.png" alt="Fitxer de configuració" /></p>
<p>Us recomano que modifiqueu el fitxer de configuració perquè sigui més fàcil de recordar. Per exemple, podeu canviar el nom de l'amfitrió per <strong>debianlab</strong> :</p>
<pre><code class="language-sh">Host debianlab
  HostName 172.16.10.202
  User jordi
</code></pre>
<p>Un cop hagueu modificat el fitxer de configuració, guardem-lo i tanquem-lo. Ara ja podeu connectar-vos a la màquina virtual <strong>debianlab</strong>. Per fer-ho:</p>
<ol>
<li>Feu clic a la icona de la part inferior esquerra.</li>
<li>Seleccioneu <strong>Remote-SSH: Connect to Host...</strong>.</li>
<li>Seleccioneu <strong>debianlab</strong> i introduïu la vostra contrasenya.</li>
</ol>
<p><img src="lab0/./figures/vscode/connect.png" alt="Connectant a debianlab" /></p>
<p>La primera vegada pot trigar uns minuts i demanar la contrasenya un parell de cops. Un cop connectat, ja podeu desenvolupar el curs des de VSCode. Assegureu-vos que a la part inferior hi apareix <strong>SSH:debianlab</strong>. Consulteu la imatge:</p>
<p><img src="lab0/./figures/vscode/ssh_debianlab.png" alt="Connectat a debianlab" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuració-gitgithub"><a class="header" href="#configuració-gitgithub">Configuració Git/Github</a></h1>
<h2 id="installació-de-git-a-la-màquina-virtual"><a class="header" href="#installació-de-git-a-la-màquina-virtual">Instal·lació de Git a la màquina virtual</a></h2>
<ol>
<li>
<p>Inicieu una sessió a la terminal de la màquina virtual <strong>debianlab</strong>, o bé utilitzeu la terminal de l'entorn de desenvolupament <strong>VSCode</strong>.</p>
</li>
<li>
<p>Inicia la sessió de l'usuari <strong>root</strong> amb la comanda:</p>
<pre><code class="language-sh">su -
</code></pre>
<p>El guionet <code>-</code> és important perquè carregui correctament les variables d'entorn de l'usuari <strong>root</strong>.</p>
</li>
<li>
<p>Com a usuari <strong>root</strong>. Instal·la el programari <strong>git</strong> amb la comanda:</p>
<pre><code class="language-sh">apt install git -y
</code></pre>
</li>
<li>
<p>Un cop finalitzi la instal·lació, comproveu la versió de <strong>git</strong> amb la comanda:</p>
<pre><code class="language-sh">git --version
</code></pre>
</li>
</ol>
<p>Una forma alternativa d'instal·lar <strong>git</strong> en una sola comanda és:</p>
<pre><code class="language-sh">su -c "apt install git -y"
</code></pre>
<h2 id="configuració-de-git"><a class="header" href="#configuració-de-git">Configuració de Git</a></h2>
<p>Per començar a treballar amb Git, primer cal configurar el nostre usuari i correu electrònic. Aquesta informació s'utilitzarà per identificar els commits que fem al repositori. Per configurar el nostre usuari i correu electrònic, executem les següents comandes:</p>
<pre><code class="language-sh">git config --global user.name "JordiMateo"
git config --global user.email "jordi.mateo@udl.cat"
</code></pre>
<p>Aquestes comandes s'executen en una terminal d'usuari normal, no cal ser <strong>root</strong>.</p>
<p>Aquestes dades es guarden en el fitxer de configuració de l'usuari de Git, que es troba a la carpeta de l'usuari, en un fitxer anomenat <code>.gitconfig</code>. Per veure el contingut d'aquest fitxer, executem la comanda:</p>
<pre><code class="language-sh">cat ~/.gitconfig
</code></pre>
<h2 id="configurant-github"><a class="header" href="#configurant-github">Configurant Github</a></h2>
<ol>
<li>
<p>Crea un compte a GitHub: Si no tens un compte a GitHub, visita <a href="https://github.com/">https://github.com/</a> i crea un compte gratuït.</p>
</li>
<li>
<p>Inicia la sessió al teu compte de GitHub en el navegador web.</p>
</li>
<li>
<p>Fes clic a la teva foto de perfil a la cantonada superior dreta i selecciona <strong>Configuració</strong> al menú desplegable.</p>
</li>
<li>
<p>A la pàgina de configuració de GitHub, selecciona <strong>Configuració de desenvolupador</strong> al menú lateral esquerre.</p>
</li>
<li>
<p>A la secció "Tokens personals", fes clic a "Genera un token personal" i selecciona un Token (clássic) per a l'ús amb la línia de comandes.</p>
</li>
</ol>
<p><img src="lab0/./figures/git/token-gen.png" alt="Generar token" /></p>
<ol>
<li>
<p>Completa la informació requerida i fes clic a "Generar token":</p>
<ul>
<li>Introdueix un nom per al teu token.</li>
</ul>
<blockquote>
<p>🚀 <strong>Per exemple:</strong></p>
<p><em>Token per a la màquina virtual de l'assignatura Sistemes Operatius.</em></p>
</blockquote>
<ul>
<li>Selecciona un temps d'expiració per al teu token.</li>
</ul>
<blockquote>
<p><strong>🧐 Simplicitat:</strong></p>
<p>Podeu posar <em>no expiration</em>. Així, el token no caducarà.</p>
</blockquote>
<hr />
<blockquote>
<p><strong>⚠️ Seguretat:</strong>
En un entorn real, és recomanable posar una data d'expiració.</p>
</blockquote>
<ul>
<li>Selecciona els permisos que vols donar al teu token.</li>
</ul>
<blockquote>
<p>Per l'assignatura necessiteu marcar la casella <strong>repo</strong> i <strong>workflow</strong>. Aquests permisos són suficients per a clonar, pujar i baixar repositoris i executar accions de GitHub.</p>
</blockquote>
<p><img src="lab0/./figures/git/token-config.png" alt="Configuració token" /></p>
<ul>
<li>Guarda el token en un lloc segur. No el podreu veure més. Si el perdeu, haureu de generar un nou token.</li>
</ul>
</li>
</ol>
<h2 id="configuració-de-laccés-a-github-des-de-la-màquina-virtual"><a class="header" href="#configuració-de-laccés-a-github-des-de-la-màquina-virtual">Configuració de l'accés a GitHub des de la màquina virtual</a></h2>
<ol>
<li>
<p>Inicia una sessió a la terminal de la màquina virtual <strong>debianlab</strong> com a usuari normal.</p>
</li>
<li>
<p>Configura Git per utilitzar el token de GitHub executant la següent comanda:</p>
<pre><code class="language-sh">git config --global github.token TOKEN
</code></pre>
<blockquote>
<p><strong>🔑 Actualitza:</strong></p>
<p>Reemplaça <code>TOKEN</code> pel token d'accés que has generat al pas anterior.</p>
</blockquote>
<p>Això emmagatzemarà el token de GitHub en la configuració global de Git al teu sistema Debian.</p>
</li>
<li>
<p>Verifica que el token s'hagi configurat correctament executant:</p>
<pre><code class="language-sh">git config --global --get github.token
</code></pre>
<p>Si tot ha anat bé, veuràs el token que has configurat.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configurant-lentorn-de-desenvolupament"><a class="header" href="#configurant-lentorn-de-desenvolupament">Configurant l'Entorn de Desenvolupament</a></h1>
<p>Per instal·lar el llenguatge de programació <strong>C a Debian</strong>, pots seguir aquests passos:</p>
<ol>
<li>
<p>Connecta una terminal al teu sistema Debian i obra una sessió com a usuari <strong>root</strong>.</p>
<pre><code class="language-sh">su -
</code></pre>
</li>
<li>
<p>Instal·la el paquet <em>build-essential</em>, que inclou les eines i llibreries necessàries per compilar i construir programes en C. Aquest paquet inclou el compilador GCC, que és comunament utilitzat per programar en C.</p>
<pre><code class="language-sh">apt install build-essential -y
</code></pre>
</li>
<li>
<p>Torna a la sessió com a usuari normal i comprova que el compilador GCC s'ha instal·lat correctament.Verifica la instal·lació comprovant la versió del compilador GCC instal·lat.</p>
<pre><code class="language-sh">exit
gcc --version
</code></pre>
</li>
</ol>
<p>Ara ja pots escriure i compilar programes en <em>C</em> al teu sistema Debian. Com anteriorment, has vinculat VSCode amb la màquina virtual <strong>debianlab</strong> ara pots escriure i compilar programes en C des de l'entorn de desenvolupament <strong>VSCode</strong>.</p>
<p>Anem a crear un programa senzill en C, compilar-lo i executar-lo. Aquest programa mostrarà un missatge de benvinguda a la terminal.</p>
<ol>
<li>
<p>Fer click al boto <strong>Obre la Carpeta</strong>.</p>
<p><img src="lab0/./figures/vscode/open-folder.png" alt="Obre Carpeta" /></p>
</li>
<li>
<p>Selecciona la carpeta de l'usuari. (<em>/home/jordi</em>). Això obrirà la carpeta de l'usuari a la barra lateral esquerra de VSCode.</p>
<p><img src="lab0/./figures/vscode/select-folder.png" alt="Selecciona Carpeta" /></p>
<ul>
<li>Confirmeu que confieu en l'origen de la carpeta seleccionada.</li>
</ul>
<p><img src="lab0/./figures/vscode/trust-folder.png" alt="Confia en la carpeta" /></p>
<ul>
<li>Com a resultat, la carpeta de l'usuari s'obrirà a la barra lateral esquerra de VSCode.</li>
</ul>
<p><img src="lab0/./figures/vscode/user-folder.png" alt="Carpeta de l&#39;usuari" /></p>
</li>
<li>
<p>Crea un directori utilitzant el gestor de fitxers de VSCode. Per exemple, crea un directori anomenat <code>hello</code> a la carpeta de l'usuari.</p>
<p><img src="lab0/./figures/vscode/create-dir.png" alt="Crea directori" /></p>
</li>
<li>
<p>Crear un nou fitxer anomenat <code>hola.c</code> dins del directori <code>hello</code>.</p>
<p><img src="lab0/./figures/vscode/create-file.png" alt="Crea fitxer" /></p>
</li>
<li>
<p>Utilitza l'editor de text de VSCode per escriure el següent codi en C al fitxer creat.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;

int main() {
    printf("Hola, benvingut al DebianLab!\n");
    return 0;
}
</code></pre>
<p><img src="lab0/./figures/vscode/write-code.png" alt="Escriu codi" /></p>
<p>Podeu seleccionar instal·lar l'extensió C/C++ per a VSCode tal com us recomana l'editor.</p>
<p>Un cop instal·lat, torneu a la pestanya de l'editor de <code>hola.c</code> i guardeu el fitxer.</p>
<blockquote>
<p><strong>😵‍💫 Trobleshooting:</strong></p>
<p>Si quan guardeu el fitxer, VSCode us mostra la llibreria stdio.h amb vermell indicant que no la troba, simplement, tanqueu la sessió a VSCode i torneu-la a iniciar. Això solucionarà el problema.</p>
</blockquote>
</li>
<li>
<p>Si no teniu oberta la terminal, podeu obrir-ne una des de VSCode. Feu clic a <strong>Terminal</strong> i seleccioneu <strong>Nova Terminal</strong>.</p>
<p><img src="lab0/./figures/vscode/terminal.png" alt="Terminal oberta" /></p>
<p>Ara podeu compilar el programa des de la terminal de VSCode.</p>
</li>
<li>
<p>Navega fins al directori <code>hello</code>.</p>
<pre><code class="language-sh">cd hello
</code></pre>
</li>
<li>
<p>Compila el programa amb la comanda <code>gcc</code>.</p>
<pre><code class="language-sh">gcc -o hola hola.c
</code></pre>
</li>
<li>
<p>Executa el programa.</p>
<pre><code class="language-sh">./hola
</code></pre>
</li>
</ol>
<p><img src="lab0/./figures/vscode/commands.png" alt="Resum de comandes" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="projecte-collaboratiu-calculadora"><a class="header" href="#projecte-collaboratiu-calculadora">Projecte Col·laboratiu: Calculadora</a></h1>
<p>En aquest projecte, treballarem en equip per a desenvolupar una calculadora senzilla en C de forma cooperativa. Aquest projecte ens permetrà repassar els conceptes bàsics de programació en <em>C</em> i introduir-nos en el treball col·laboratiu amb les eines de control de versions com: <strong>Git i GitHub</strong>.</p>
<h2 id="objectius"><a class="header" href="#objectius">Objectius</a></h2>
<ul>
<li>Consolidar els coneixements bàsics de programació en C.</li>
<li>Comprendre l’estructura d’un projecte modular en C.</li>
<li>Utilitzar Git per gestionar el control de versions del projecte.</li>
<li>Col·laborar en equip utilitzant GitHub.</li>
<li>Desenvolupar una aplicació funcional en C i documentar adequadament el projecte.</li>
</ul>
<h2 id="tasques"><a class="header" href="#tasques">Tasques</a></h2>
<h3 id="creació-dequips"><a class="header" href="#creació-dequips">Creació d'equips</a></h3>
<ol>
<li>
<p>Formeu equips de 3 persones. Cada grup haurà d'escollir un <strong>líder</strong>, que serà el responsable de coordinar el treball, gestionar el repositori i fer el seguiment del projecte.</p>
</li>
<li>
<p>Trieu un nom d'equip original.</p>
</li>
</ol>
<h3 id="preparació-del-projecte"><a class="header" href="#preparació-del-projecte">Preparació del projecte</a></h3>
<p>Enllaç de la tasca a GitHub Classroom: <a href="https://classroom.github.com/a/YXJZBzDs">https://classroom.github.com/a/YXJZBzDs</a></p>
<ol>
<li>
<p>El líder de l'equip haurà d’iniciar el grup a través de GitHub Classroom.</p>
<ul>
<li>
<p>Introdueix el nom de l'equip.</p>
<p><img src="lab0/./figures/projecte/github-classroom.png" alt="Iniciar grup" /></p>
</li>
<li>
<p>Accepta la tasca.</p>
<p><img src="lab0/./figures/projecte/accept-task.png" alt="Acceptar tasca" /></p>
</li>
<li>
<p>Un cop acceptada la tasca, es crearà un repositori per a l'equip.</p>
<p><img src="lab0/./figures/projecte/repo-created.png" alt="Repositori creat" /></p>
</li>
</ul>
</li>
<li>
<p>La resta de membres s’hi podran unir seleccionant el nom de l’equip al mateix enllaç <a href="https://classroom.github.com/a/YXJZBzDs">https://classroom.github.com/a/YXJZBzDs</a>.</p>
</li>
<li>
<p>El repositori base contindrà el codi inicial necessari i la seva estructura.</p>
<p><img src="lab0/./figures/projecte/repo-structure.png" alt="Estructura del repositori" /></p>
</li>
<li>
<p>El líder és responsable d'assignar les tasques a cada membre mitjançant issues a GitHub.</p>
<p>Per fer-ho:</p>
<ol>
<li>
<p>Fer clic a la pestanya <strong>Issues</strong>.</p>
<p><img src="lab0/./figures/projecte/issues-tab.png" alt="Issues" /></p>
</li>
<li>
<p>Fer clic a <strong>New issue</strong>.</p>
<p><img src="lab0/./figures/projecte/new-issue.png" alt="Nova issue" /></p>
</li>
<li>
<p>Us he preparat una plantilla per a les issues. Feu clic a <strong>Get started</strong>.</p>
<p><img src="lab0/./figures/projecte/issue-template.png" alt="Plantilla de l&#39;issue" /></p>
</li>
<li>
<p>Omplir el títol i la descripció de la tasca.</p>
</li>
<li>
<p>Assignar la tasca a un membre de l'equip. Click a <strong>Assignees</strong> i seleccionar el membre.</p>
</li>
<li>
<p>Un cop assignada la tasca, fer clic a <strong>Submit new issue</strong>.</p>
</li>
</ol>
<p>Llista de tasques i assignació:</p>
<div class="table-wrapper"><table><thead><tr><th>Tasca</th><th>Assignat a</th></tr></thead><tbody>
<tr><td>Implementació de la funció de suma</td><td>líder</td></tr>
<tr><td>Implementació de la funció de resta</td><td>líder</td></tr>
<tr><td>Implementació de la funció de multiplicació</td><td>membre1</td></tr>
<tr><td>Implementació de la funció de divisió</td><td>membre1</td></tr>
<tr><td>Implementació de la funció de potència</td><td>membre2</td></tr>
<tr><td>Implementació de la funció de arrels quadrades</td><td>membre2</td></tr>
</tbody></table>
</div></li>
</ol>
<h3 id="treball-individual"><a class="header" href="#treball-individual">Treball individual</a></h3>
<ol>
<li>
<p>Cada membre de l'equip haurà de clonar el repositori al seu ordinador i crear una branca <code>develop</code> per les seves tasques.</p>
<pre><code class="language-sh">git clone URL_DEL_REPOSITORI
cd NOM_DEL_REPOSITORI
</code></pre>
<blockquote>
<p><strong>Informació</strong></p>
<p>Si feu clic a <strong>Code</strong> al repositori, podreu copiar la URL del repositori.</p>
</blockquote>
<p><img src="lab0/./figures/projecte/clone-repo.png" alt="Exemple de clonació" /></p>
<blockquote>
<p><strong>Recomanació</strong></p>
<p>Tanqueu la sessió de VSCode i torneu-la a obrir però indicant la ruta a la carpeta del projecte. En el meu cas, seria <code>/home/jordi/test/projecte-0-calculadora-teacher</code>. D'aquesta manera, podreu utilitzar les eines de VSCode per a desenvolupar el projecte.</p>
<p><img src="lab0/./figures/projecte/open-folder.png" alt="Obrir carpeta" /></p>
<p><img src="lab0/./figures/projecte/vscode.png" alt="VSCode" /></p>
</blockquote>
</li>
<li>
<p>Per cada tasca assignada, el membre haurà de crear una branca amb el nom de la tasca. Per exemple, si la tasca és implementar la funció de suma, la branca es podria anomenar <code>feature-suma</code>.</p>
<pre><code class="language-sh">git checkout -b feature-suma
</code></pre>
<p>Observeu que VSCode us mostra la branca actual a la part inferior esquerra.</p>
<p><img src="lab0/./figures/projecte/branch.png" alt="Branca actual" /></p>
</li>
<li>
<p>El codi de la funció suma podria ser:</p>
<pre><code class="language-c">// calc.c
int suma(int a, int b) {
    return a + b;
}
</code></pre>
<pre><code class="language-c">// calc.h
int suma(int a, int b);
</code></pre>
</li>
<li>
<p>Compileu el codi i comproveu que funciona correctament.</p>
<pre><code class="language-sh">make
./calc
</code></pre>
<p><img src="lab0/./figures/projecte/run.png" alt="Compilació i Execució" /></p>
<p>Si tot funciona correctament, el codi s'executarà i mostrarà el resultat de la suma.</p>
</li>
<li>
<p>Un cop finalitzada la tasca, fer un <code>commit</code> amb els canvis realitzats indicant la tasca realitzada.</p>
<p>Ho podeu fer amb les eines de VSCode o amb la terminal.</p>
<p>Si feu servir la terminal, la comanda seria:</p>
<pre><code class="language-sh">git add src/calc.c src/calc.h src/main.c
git commit -m "@feat: Implementació de la funció de suma"
</code></pre>
<p><img src="lab0/./figures/projecte/commit.png" alt="Commit" /></p>
<blockquote>
<p><strong>Compte!</strong></p>
<p>Si no feu <code>git add</code> abans de fer el <code>commit</code>, no es pujaran els canvis al repositori. Així que assegureu-vos de fer <code>git add</code> abans de fer el <code>commit</code>.</p>
</blockquote>
<hr />
<blockquote>
<p><strong>TIP:</strong></p>
<p>Utilitza els missatges de commit per tancar les issues relacionades amb la tasca. Per exemple, si la tasca és implementar la funció de suma, el missatge de commit podria ser: <code>git commit -m "@feat: Implementació de la funció de suma. Closes #1"</code>. Si la tasca 1 és la implementació de la funció de suma.</p>
</blockquote>
<p>Per fer-ho amb VSCode, feu clic a la icona de la branca a la part inferior esquerra i seleccioneu <strong>Commit</strong>. Després, introduïu el missatge de commit i confirmeu-lo.</p>
<p><img src="lab0/./figures/projecte/commit-vscode.png" alt="Commit amb VSCode" /></p>
</li>
<li>
<p>Repeteix els passos 2 i 3 per a cada tasca assignada. Sempre creant la branca des de <code>main</code>. Per tornar a la branca <code>main</code>, feu <code>git checkout main</code>. O bé, click a la branca a la part inferior esquerra de VSCode i seleccioneu <code>main</code>.</p>
</li>
<li>
<p>Un cop finalitzades les seves tasques ajuntarem totes les branques a la nostra branca local <code>main</code>.</p>
<ul>
<li>
<p>Per fer-ho, amb la terminal, farem:</p>
<pre><code class="language-sh">git checkout -b main
git merge feature-suma 
</code></pre>
<p><img src="lab0/./figures/projecte/merge.png" alt="Merge" /></p>
<blockquote>
<p><strong>Compte!</strong></p>
<p>Si hi ha conflictes, caldrà resoldre'ls abans de fer el <code>commit</code>.</p>
</blockquote>
</li>
<li>
<p>Per fer-ho amb VSCode, farem clic a la icona de la branca a la part inferior esquerra i seleccionarem <strong>Merge branch into current</strong>.</p>
<p><img src="lab0/./figures/projecte/merge-vscode.png" alt="Merge amb VSCode" /></p>
</li>
<li>
<p>Seleccioneu la branca a ajuntar.</p>
<p><img src="lab0/./figures/projecte/select-branch.png" alt="Selecció de la branca" /></p>
</li>
<li>
<p>Quan integreu la segona funcionalitat (resta, multiplicació, etc.), caldrà fer un <code>merge</code> ja que es detectaran conflictes.</p>
<p><img src="lab0/./figures/projecte/conflict.png" alt="Conflicte" /></p>
</li>
<li>
<p>Un dels conflictes es el fitxer <code>calc.c</code>. Cada branca ha modificat aquest fitxer i caldrà resoldre els conflictes. Acceptant els canvis de les dues branques. Podeu fer-ho manualment o amb el resolutor de conflictes de VSCode.</p>
<p><img src="lab0/./figures/projecte/conflict-resolve.png" alt="Resolució de conflictes" /></p>
</li>
<li>
<p>Repetiu el mateix procediment per tots els conflictes que apareguin.</p>
</li>
<li>
<p>Un cop resolts els conflictes, feu un <code>commit</code> amb el missatge <code>@feat: Merge branch 'feature-resta</code>.</p>
</li>
</ul>
</li>
</ol>
<h3 id="ajuntar-les-tasques"><a class="header" href="#ajuntar-les-tasques">Ajuntar les tasques</a></h3>
<ol>
<li>
<p>Un cop totes les tasques estiguin implementades i ajuntades a la branca <code>main</code>, caldrà testar que el codi funciona correctament.</p>
</li>
<li>
<p>Aquestes tasques estaràn en la branca <code>main</code> del repositori local. Ara caldrà pujar aquestes tasques al repositori remot.</p>
<ul>
<li>Crea a GitHub una branca remota anomenada <code>develop-&lt;nom-usuari&gt;</code> i la vincularem amb la branca <code>main</code> local.</li>
</ul>
<p><img src="lab0/./figures/projecte/branch-remote-develop.png" alt="Branca develop" /></p>
<p>Primer, caldrà actualitzar les branques remotes del repositori.</p>
<pre><code class="language-sh">git fetch origin
</code></pre>
<p><img src="lab0/./figures/projecte/fetch.png" alt="Fetch" /></p>
<p>Un cop actualitzades les branques remotes, caldrà fer un <code>push</code> de la branca <code>main</code> a la branca <code>develop-&lt;nom-usuari&gt;</code>.</p>
<pre><code class="language-sh">git push origin main:develop-&lt;nom-usuari&gt;
</code></pre>
</li>
<li>
<p>Un cop pujades totes les tasques al repositori remot, el líder actualitzarà les branques remotes de tots els membres de l'equip.</p>
<pre><code class="language-sh">git fetch origin
</code></pre>
</li>
<li>
<p>Fara un <code>merge</code> de totes les tasques a la seva branca <code>main</code>.</p>
</li>
<li>
<p>Finalment, testeu que el codi funciona correctament.</p>
</li>
<li>
<p>Un cop testejat, caldrà pujar la branca <code>main</code> al repositori remot.</p>
<pre><code class="language-sh">git push origin main
</code></pre>
</li>
</ol>
<h3 id="documentació"><a class="header" href="#documentació">Documentació</a></h3>
<ol>
<li>
<p>Editeu el fitxer README.md i afegiu una breu descripció del projecte, el nom dels membres de l'equip i una captura de pantalla de la calculadora en funcionament.</p>
</li>
<li>
<p>Afegiu també les instruccions per a compilar i executar el projecte.</p>
</li>
</ol>
<p>Us podeu inspirar en aquesta documentació <a href="https://github.com/OS-GEI-IGUALADA-2425/laboratoris">https://github.com/OS-GEI-IGUALADA-2425/laboratoris</a> o bé podeu consultar la documentació de GitHub sobre com escriure aquest tipus de documents <a href="https://docs.github.com/en/github/writing-on-github/basic-writing-and-formatting-syntax">https://docs.github.com/en/github/writing-on-github/basic-writing-and-formatting-syntax</a>.</p>
<h3 id="desplegament-automàtic"><a class="header" href="#desplegament-automàtic">Desplegament automàtic</a></h3>
<p>Github permet compilar i generar un executables a partir del codi font. Aquesta funcionalitat es pot activar a la pestanya <strong>Actions</strong> del repositori. Per fer-ho, caldrà crear un fitxer de configuració anomenat <code>.github/workflows/build.yml</code> amb el següent contingut:</p>
<ul>
<li>
<p>Crear el fitxer de configuració:</p>
<pre><code class="language-sh">mkdir -p .github/workflows
touch .github/workflows/build.yml
</code></pre>
</li>
<li>
<p>Editar el fitxer <code>build.yml</code> amb el següent contingut:</p>
<pre><code class="language-yml">name: Build and Compile Calculator

on:
    push:
        branches:      
            - main
jobs:  
    build:    
        runs-on: ubuntu-latest   
        
        steps:      
            - name: Checkout Repository        
            uses: actions/checkout@v3   
            
            - name: Create bin folder
            run: mkdir bin
        
            - name: Compile Calculator 
            run: |         
                make 
</code></pre>
<p>Aquest fitxer de configuració s'executarà cada vegada que es faci un <code>push</code> a la branca <code>main</code>. Això farà que es compili el codi i es generi un executable. Aquest codi s'executarà en una màquina virtual amb Ubuntu generada per GitHub.</p>
<p>Un cop configurat, es pot provar fent un <code>push</code> a la branca <code>main</code> i comprovar que es compila correctament.</p>
</li>
</ul>
<p>A més, es pot taggejar el repositori amb una versió. Per exemple, si el codi està en la versió 1.0.0, es pot fer un tag amb aquesta versió. Per fer-ho, caldrà fer:</p>
<pre><code class="language-sh">git tag -a v1.0.0 -m "Versió 1.0.0"
git push origin v1.0.0
</code></pre>
<p>Aquest tag permetrà descarregar el codi font de la versió 1.0.0 en qualsevol moment.</p>
<p>Per acabar, podeu inclús generar un <code>release</code> amb aquest tag. Això permetrà descarregar el codi font de la versió 1.0.0 amb un sol clic.</p>
<p>Per fer-ho, primer necessitarem crear un secret al repositori anomenat <code>TOKEN</code>. Aquest secret serà el token d'accés a GitHub. Per crear-lo, anem a <strong>Settings</strong> -&gt; <strong>Secrets</strong> -&gt; <strong>New repository secret</strong> i afegim el token d'accés. D'aquesta manera la github action podrà crear el release cada vegada que es faci un tag.</p>
<p>Un cop creat el secret, caldrà modificar el fitxer de configuració <code>build.yml</code> perquè generi el release. El fitxer de configuració quedaria així:</p>
<pre><code class="language-yml"># release.yml
name: Generate Release

on:
    release:
        types: [created]

jobs:
    build:    
        runs-on: ubuntu-latest   
        
        steps:      
            - name: Checkout Repository        
            uses: actions/checkout@v3   
            
            - name: Create bin folder
            run: mkdir bin
        
            - name: Compile Calculator 
            run: |         
                make 

            - name: Create Release
            id: create_release
            uses: actions/create-release@v1
            env:
                GITHUB_TOKEN: ${{ secrets.TOKEN }}
            with:
                tag_name: ${{ github.ref }}
                release_name: Release ${{ github.ref }}
                body: |
                    Release ${{ github.ref }}
                draft: false
                prerelease: false
</code></pre>
<p>Aquest fitxer de configuració crearà un release cada vegada que es faci un tag. Aquest release es podrà descarregar amb un sol clic.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>

        <script src="ace.js"></script>
        <script src="editor.js"></script>
        <script src="mode-rust.js"></script>
        <script src="theme-dawn.js"></script>
        <script src="theme-tomorrow_night.js"></script>

        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
